# -*- coding: utf-8 -*-
"""파이썬통계11-통계와 데이터

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1U4a7mCcB5nxSKEOnZAF3sK_AEraG_q30

# 통계
```
* 분석하고자 하는 집단과 관련해 조사나 실험의 결과로 얻는 자료
  또는 이의 요약된 형태를 의미

* 통계학 : 좀 더 효과적인 의사결정을 할 수 있도록 수치자료를
  수집, 정리, 표현, 분석하는 학문

* 통계는 항상 반례 가능성을 가지고 있음

* 관련 통계 분야 : 사회과학통계, 자연과학통계, 수학학통계
```

# 통계학의 유형
    1. 기술통계학 - 자료중심 통계
                    그래프, 표, 수치를 이용해서 집단의 특성 파악
                    대표값, 산포
                    
    2. 추론통계학 - 예측 중심 통계
                    관측된 자료를 이용해서 모집단 특성 추측
                    1) 모수통계
                                가.빈도분석
                                나.상관분석
                                다.세집단이상 평균분석
                                라.회귀분석(!!!)
                    2) 비모수통계
                                가.적합도검증
                                나.변수간 상관분석
                              
데이터를 이해하는 마음가짐
* 데이터가 숲이라고 가정한다면
            + 처음부터 숲의 나무를 보고 자세히 관찰한다기 보다는
            + 대략적으로 숲의 모양을 보고 특징을 파악하고 나무를 관찰할 것
            + 데이터도 이런식의 접근방식을 사용해야함

* 데이터의 특징이란
            + 말로 표현하기 보다는
            + 숫자로 표현하여야 하고
            + 주로 평균, 편차 등등을 활용하는데
            + 이렇게 숫자로 데이터의 특징을 표현하는 과정을 
            + "요약 summary" 이라함

* 데이터 분석 순서
            + 데이터를 처음 만나면
            + 요약을 먼저하고 데이터의 특징을 파악해서
            + 어떤 차이가 있는지 파악해서
            + 데이터 분석방향을 설정할 것!

# 모집단과 표본


# 표본 추출방법
표본조사 : 더조은 수강생 5000명 대상
            사용중인 핸드폰 조사 - 선호도 조사를 위해 30명 선정
            모집단 : 수강생 5000명
            표본 : 수강생 30명

단순 랜덤: SRS(Simple Random Sampling)
            모집단 개체에 번호표 부여 후 25명 추출
            추출틀 이용

계통 추출 : 기본적으로 SRS 와 유사
            단, '개체수/표본수' 로 계산되는 k값을 알아냄
            1 ~ n의 숫자중 하나를 선택하고
            그 숫자에 k를 더해서 개체들을 선택
            예) k : 3000 / 30 => 100
            임의의 숫자 뽑음(1~3000) : 25
            25. 125, 225, 325, ... , 2925

층화 추출 : 모집단을 몇개의 계층(고유특성)으로 나누어 표본 추출
            ex) 모집단 : 3000명 중에서 => 남/여 수 파악
            각 계층별로 번호 부여 : 남=2100, 여= 900
            계층별 비율 계산 : 남여비율 = 7:3
            따라서, 남자는 21명, 여자는 9명을 SRS 으로 추출

군집 추출 : 모집단을 몇개의 군집(가변특성) 으로 나누어 표본 추출
            ex) 모집단을 학력수준/거주지역으로 나눔
            각 군집별로 번호부여 (고졸, 대졸, 대학원졸/서울, 경기, 부산)
            임의의 그룹을 선택하고 번호표 부여 후 비율별로 SRS 추출

# 표본 추출
# random.choice(데이터, size=추출수,
#                replace=복원/비복원, p=추출확률)

import numpy as np
nums = np.arange(1,10+1)

# 1 ~ 10 사이 정수 중 3개를 복원추출

# 1 ~ 10 사이 정수 중 3개를 비복원추출
"""

import numpy as np
nums = np.arange(1,10+1)

# 1 ~ 10 사이 정수 중 3개를 복원추출
np.random.choice(nums, 5, replace=True)

# 1 ~ 10 사이 정수 중 3개를 비복원추출
np.random.choice(nums, 5, replace=False)

# 1~5 사이 정수 중 1개를 복원추출로 표본을 선택하세요
# 단, 각 표본의 확률은 [0.0 0.5 0.0 0.5 0.0]으로 설정함
nums =[1,2,3,4,5]
np.random.choice(nums, 1, replace=True,
                 p=[0.0, 0.5, 0.0, 0.5, 0.0])

# 자료의 종류
          질적자료 : 문자로 표현된 자료
                  명목자료 : 일반적인 범주형 데이터
                             ex) 남, 여
                  순서자료 : 순서의 의미가 포함된 데이터
                             ex) 초등학교, 중학교, 고등학교, 대학교
                  구간자료 : 양적자료를 구간별로 나누어 명목/순서의 의미를 포함시킨 데이터
                             ex) 수,우,미,양,가
                  비율자료 : 양적자료를 구간별로 나누어 서열/비율의 의미를 포함시킨 데이터
                             ex) 몸무게, 시간, 키

          양적자료 : 숫자로 표현된 자료
                  이산형 : 셈이 가능한 양적자료, 정수형 데이터
                  연속형 : 셈이 불가능한 양적자료, 실수형 데이터

# 통계분석시 중요 개념
* 개체 item       : 연구자 또는 관찰자가 관심을 가지는 대상
                    ex) 더조은 수강생

* 요인 factor     :  개체가 가지는 특성 중 연구자 또는 관찰자가
                    특별히 관심을 갖는 특성
                    ex) 수강생 신체조건, 경력사항

* 변수 variable   : 요인을 구성하고 있는 요소
                    ex) 키, 몸무게, 성별, 혈액형
                    ex) 학위, 직장명, 근무년수, 직무

# 모집단과 표본
            모집단 : 통계 목적에 부합하는 모든 자료들의 집단
                $U$ 기호 사용, 모집단의 크기는 $N$으로 표현
            표본 : 모집단의 일부인 자료들의 집단
                $S$ 기호 사용, 표본의 크기는 $n$으로 표현

"""# 대표값
평균 : 중심척도의 대표적인 통계값
* 평균은 유일하다
* 평균은 계산하기 쉽다
* 모든 측정값을 반영한다
* 단, 평균은 특이값(이상치)에 영향을 받는다

모평균 : $ \mu $, 모집단의 모든 값을 더한 후 모집단의 갯수로 나눈 수치

$$ \mu = \dfrac{1}{N} \sum_{i=1} ^N x_i $$

표본평균 : $ \bar x$, 표본의 모든 값을 더한 후 표본의 갯수로 나눈 수치

$$ \bar x = \dfrac{1}{n} \sum_{i=1} ^n x_i $$
"""

# 특이값(이상치)에 영향을 받는다
nums1 = [1,2,3,4,5,6,7,8,9,10]
nums2 = [1,2,3,4,5,6,7,8,9,100]

print(sum(nums1) / len(nums1))
print(np.mean(nums2))

kings = [73, 62, 45, 53, 38, 16, 51, 28, 37, 30, 56, 30, 33, 56, 66, 54, 40, 33, 59, 36, 82, 48, 44, 22, 32, 67, 52]
print(np.mean(kings) / round(1))

"""# 중앙값 median
자료를 오름차순으로 나열한 후 가장 가운데 놓인 수
특이값의 영향을 받는 평균을 보완한 수치
자료 갯수가 짝수인 경우와 홀수인 경우 계산하는 방법이 다름
"""

# 조선조 왕들의 수명의 중앙값을 조사
kings = [73, 62, 45, 53, 38, 16, 51, 28, 37, 30, 56, 30, 33, 56, 66, 54, 40, 33, 59, 36, 82, 48, 44, 22, 32, 67, 52]
print(len(kings))
print(np.median(kings))